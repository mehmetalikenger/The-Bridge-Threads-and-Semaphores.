There is a bridge, and this bridge has one lane. Both directions can use the bridge. 
A maximum of 10 cars(threads) from the same direction can cross simultaneously, and a maximum of three cars can be on the bridge at the same time, and the direction of these cars must be the same.
To solve this problem I use semaphores in this program.
